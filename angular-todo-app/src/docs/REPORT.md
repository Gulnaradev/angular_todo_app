# Отчёт о проделанной работе

## 1. Общая информация
В рамках задания было проведено функциональное и автоматизированное тестирование Angular Todo App с использованием Playwright и TypeScript.  
Основное внимание уделялось проверке ключевых пользовательских сценариев, а также граничных случаев, связанных с особенностями внешнего API (JSONPlaceholder).

---

## 2. Реализованные автотесты

Автотесты реализованы в формате E2E с применением Page Object Pattern.

### CRUD (основной функционал)
- Проверка загрузки приложения (smoke внутри CRUD-набора)
- Создание задачи (Add todo)
- Изменение статуса задачи (Toggle completed)
- Редактирование задачи (Edit + Save)
- Удаление задачи (Delete)

### Фильтрация
- Фильтр **Active**
- Фильтр **Completed**
- Фильтр **All**

### Edge / Corner cases
- Проверка неперсистентности данных после обновления страницы  
  (известное ограничение JSONPlaceholder API)
- Проверка валидации ввода:
  - пустая строка
  - строка, состоящая только из пробелов

---

## 3. Использованные подходы и инструменты
- **Playwright + TypeScript**
- **Page Object Pattern** для повышения поддерживаемости и читаемости тестов
- Использование стабильных CSS-классов в качестве локаторов
- Асинхронные ожидания через `expect` (без жёстких таймаутов)
- Генерация уникальных тестовых данных внутри тестов для предотвращения конфликтов
- Группировка тестов по логике (CRUD, Filters, Edge cases)

---

## 4. Обнаруженные особенности и замечания
- Все изменения, выполненные через UI, не сохраняются после перезагрузки страницы.  
  Данное поведение соответствует описанным ограничениям JSONPlaceholder API и покрыто отдельным edge-case тестом.
- При отсутствии дополнительной валидации пользователь может попытаться создать задачу с пустым значением — рекомендуется явно определить ожидаемое поведение.

---

## 5. Предложения по улучшению
- Добавить `data-testid` атрибуты для ключевых элементов UI
- Реализовать явные UI-состояния: loading / error / empty
- Добавить отображение уведомления о том, что данные не сохраняются после refresh
- Использовать API-моки в E2E-тестах для устранения зависимости от внешнего сервиса в CI

---

## 6. Сложности при выполнении
- Динамическое обновление DOM при редактировании задач (Angular re-render) потребовало корректной работы с локаторами
- Необходимость учитывать нестандартное поведение внешнего API при проектировании тестов

---

## WebKit (Safari) — статус прогона

При запуске тестов в проекте `webkit` локально на macOS 14.3 (arm64) наблюдается падение Playwright WebKit на старте (crash процесса, `Bus error`, `exitCode=138`) ещё до выполнения тестов.  
Падение воспроизводится даже на минимальном запуске браузера (`webkit.launch()`), поэтому проблема относится к окружению/бинарнику WebKit, а не к тестам или локаторам.

В качестве подтверждения корректности тестов:
- прогон выполнен и стабильно проходит в **Chromium** и **Firefox** локально;
- Один из тестов падает во всех браузерах, это ожидаемо из за бага 

Рекомендация: запуск WebKit выполнять в CI на macOS runner или в отдельном окружении, где WebKit стартует корректно.

--- 

## 7. Итог
В результате был реализован полноценный набор E2E-тестов, покрывающий основной функционал приложения, фильтрацию, а также ключевые edge и corner cases.  
Тестовая документация и структура проекта готовы для дальнейшего расширения и интеграции в CI/CD.
